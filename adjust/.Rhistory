install.packages(c("survival", "forestplot"))
q()
install.packages(c("survival", "forestplot"), repos = "https://cran.rstudio.com/")
q()
if (!requireNamespace("BiocManager", quietly=TRUE)) install.packages("BiocManager")
BiocManager::install("maftools")
url <- "http://bioconductor.org/config.yaml"
con <- url(url, "r")
readLines(con, n = 5)
close(con)
q()
if (!requireNamespace("BiocManager", quietly=TRUE)) install.packages("BiocManager")
BiocManager::install("maftools")
install.packages("BiocManager")
BiocManager::install("maftools")
library(maftools)
plot_oncoplot <- function(maf_data) {
    maf_df <- as.data.frame(maf_data)  # ここで `data.frame` に変換
    maf_object <- read.maf(maf = maf_df, vc_nonSyn = NULL)
    oncoplot(maf = maf_object, showTumorSampleBarcodes = TRUE)
}
library(maftools)
plot_oncoplot <- function(maf_data) {
    maf_df <- as.data.frame(maf_data)  # 明示的に `data.frame` に変換
    maf_object <- read.maf(maf = maf_df, vc_nonSyn = NULL)
    oncoplot(maf = maf_object, showTumorSampleBarcodes = TRUE)
}
library(maftools)
plot_oncoplot <- function(maf_data) {
    maf_df <- as.data.frame(maf_data)  # 明示的に `data.frame` に変換
    maf_object <- read.maf(maf = maf_df, vc_nonSyn = NULL)
    oncoplot(maf = maf_object, showTumorSampleBarcodes = TRUE)
}
library(maftools)
plot_oncoplot <- function(maf_data) {
    maf_df <- as.data.frame(maf_data)  # 明示的に `data.frame` に変換
    maf_object <- read.maf(maf = maf_df, vc_nonSyn = NULL)
    oncoplot(maf = maf_object, showTumorSampleBarcodes = TRUE)
    return(invisible(NULL))  # `NULL` を明示的に返す
}
library(maftools)
plot_oncoplot <- function(maf_data) {
    maf_df <- as.data.frame(maf_data)  # 明示的に `data.frame` に変換
    maf_object <- read.maf(maf = maf_df, vc_nonSyn = NULL)
    
    # 新しいプロットウィンドウを開く
    if (interactive()) {
        dev.new()
    }
    
    oncoplot(maf = maf_object, showTumorSampleBarcodes = TRUE)
    return(invisible(NULL))  # `NULL` を明示的に返す
}
library(maftools)
library(ggplot2)
plot_oncoplot <- function(maf_data) {
    maf_df <- as.data.frame(maf_data)
    maf_object <- read.maf(maf = maf_df, vc_nonSyn = NULL)
    
    png("oncoplot.png", width = 1200, height = 800)  # 画像として保存
    oncoplot(maf = maf_object, showTumorSampleBarcodes = TRUE)
    dev.off()  # PNG ファイルを閉じる
    
    print("Oncoplot を 'oncoplot.png' に保存しました。")
    return(invisible(NULL))
}
print(file.exists("oncoplot.png"))
q()
library(grid)
grid.ls(print=TRUE)
library(grid)
grid.ls(view=TRUE)
library(grid)
grid.ls(view=TRUE)
library(grid)
grid.force()
grid.ls(view=TRUE)
q()
sprintf("%.1f", clinical_df$TMB)

format(round(clinical_df$TMB, 1), nsmall = 1)

format(round(clinical_df$TMB, 1), nsmall = 1)

q()
